from typing import List


class Solution:
    def mostPoints(self, A: List[List[int]]) -> int:
        n = len(A)
        dp = [0] * n  # dp[i] is the max points

        for i in range(n - 1, -1, -1):
            if i == n - 1:
                dp[i] = A[i][0]
            else:
                if i + A[i][1] + 1 < n:
                    dp[i] = max(dp[i + A[i][1] + 1] + A[i][0], dp[i])
                dp[i] = max(dp[i], dp[i + 1], A[i][0])
        # print(dp)
        return dp[0]


# questions = [[3, 2], [4, 3], [4, 4], [2, 5]]
# questions = [[1, 1], [2, 2], [3, 3], [4, 4], [5, 5]]
# questions = [[21, 5], [92, 3], [74, 2], [39, 4], [58, 2], [5, 5], [49, 4], [65, 3]]
questions = [
    [21, 2],
    [1, 2],
    [12, 5],
    [7, 2],
    [35, 3],
    [32, 2],
    [80, 2],
    [91, 5],
    [92, 3],
    [27, 3],
    [19, 1],
    [37, 3],
    [85, 2],
    [33, 4],
    [25, 1],
    [91, 4],
    [44, 3],
    [93, 3],
    [65, 4],
    [82, 3],
    [85, 5],
    [81, 3],
    [29, 2],
    [25, 1],
    [74, 2],
    [58, 1],
    [85, 1],
    [84, 2],
    [27, 2],
    [47, 5],
    [48, 4],
    [3, 2],
    [44, 3],
    [60, 5],
    [19, 2],
    [9, 4],
    [29, 5],
    [15, 3],
    [1, 3],
    [60, 2],
    [63, 3],
    [79, 3],
    [19, 1],
    [7, 1],
    [35, 1],
    [55, 4],
    [1, 4],
    [41, 1],
    [58, 5],
]


questions = [[12, 46], [78, 19], [63, 15], [79, 62], [13, 10]]
obj = Solution().mostPoints(questions)
print(obj)
